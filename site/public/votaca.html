<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/stylee1.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header>
        <div class="navbar">
            <li class="logo-site">Cs History</li>


            <ul class="navbar__links">

               
                
                <li> <a href="campeonatos.html">Campeonatos
                        <div class="barra"></div>
                    </a> </li>
                <li> <a href="sobrenos.html">Sobre NÃ³s
                        <div class="barra"></div>
                    </a></li>
                <li> <a href="cs1.6.html">Inicio
                        <div class="barra"></div>
                    </a> </li>
        </div>
        <div class="conteneier">
            <a onclick="camp1()" href="#">
                <div class="card card0">
                    <div class="border">
                        <h2>Campeonato 1</h2>
                        <div class="texto">
                            <span class="c">Campeonato</span>
                            <span class="c">Teste 2008</span>
                            <span class="c">Saiba mais</span>
                        </div>
                    </div>
                </div>
            </a>
<a onclick="camp2()" href="#">
            <div class="card card1">
                <div class="border">
                    <h2>Campeonato 2</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2004</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>
<a onclick="camp3()" href="#">
            <div class="card card2">
                <div class="border">
                    <h2>Campeonato 3</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>
        <a onclick="camp4()" href="#">
            <div class="card card3">
                <div class="border">
                    <h2>Campeonato 4</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>
        <a onclick="camp5()" href="#">
            <div class="card card4">
                <div class="border">
                    <h2>Campeonato 5</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>
        <a onclick="camp6()" href="#">
            <div class="card card5">
                <div class="border">
                    <h2>Campeonato 6</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>



        
        <a onclick="camp7()" href="#">
            <div class="card card6">
                <div class="border">
                    <h2>Campeonato 6</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>




        <a onclick="camp8()" href="#">
            <div class="card card7">
                <div class="border">
                    <h2>Campeonato 6</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>





        <a onclick="camp9()" href="#">
            <div class="card card8">
                <div class="border">
                    <h2>Campeonato 6</h2>
                    <div class="texto">
                        <span class="c">Campeonato</span>
                        <span class="c">Teste 2006</span>
                        <span class="c">Saiba mais</span>
                    </div>
                </div>
            </div>
        </a>

        </div>

        <div class="graph">
            <span><h1>Times favoritos dos usuarios</h1></span>
            <div>
                <canvas id="visitados"></canvas>
              </div>
            
        </div>

    </header>

</body>

</html>

<script>
function camp1(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 1;
    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Vapormax resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    

}

function camp2(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 2;
    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp3(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTime = 3;

    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp4(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTime = 4;

    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp5(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 5;

    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp6(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 6;

    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp7(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 7;
    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp8(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 8;
    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}

function camp9(){
    var idUsuario = sessionStorage.ID_USUARIO;
    var fkTimes = 9;

    fetch("/medidas/tempo-real", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                fkTimes,
                fkUser:idUsuario            
                
            })
        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                window.alert("Air Max 95 resgatado com sucesso!");                
                // finalizarAguardar();
            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
            // finalizarAguardar();
        });
    
}


</script>
<script>
  var nomeTimes = []
  fetch("/analytics/analytics")
    .then(function (res) {
        console.log(res)
        res.json().then(function (json) {
            console.log(json);
            var likes = []
            for (let index = 0; index < json.length; index++) {
                nomeTimes.push(json[index].Votos);
                
                // votos.push(json[index].likes)
            }

            console.log(nomeTimes);

            // Inicia uma variÃ¡vel do tipo constante (nÃ£o pode ser reatribuida)
            const visitados = {
                type: "bar", // tipo do grÃ¡fico
                data: { // objeto que vai conter os dados do grÃ¡fico
                    labels: ['Astralis',
      'Ence',
      'Furia',
      'Mibr',
      'G3x',
      'Heroic',
      'Navi',
      'Pain Gaming',
      'Cloud9'], // labels (rÃ³tulos) que serÃ£o identificados os nossos dados 
                    datasets: [ // datasets (conjunto de dados)
                        {
                            label: "Times favoritos dos usuÃ¡rios!", // irÃ¡ conter o rÃ³tulo principal do nosso grÃ¡fico
                            data: nomeTimes, // os dados referentes aqueles rÃ³tulos
                            backgroundColor: ['rgb(255, 99, 132)','rgb(255, 255, 0)','rgb(0,0,0)','rgb(65,105,225)','rgb(0,0,139)','rgb(211,211,211)','rgb(238,173,45)','rgb(128,128,128)','rgb(135,206,250)'], // cor das "bolinhas" do grÃ¡fico
                            borderColor: "black", // cor da "linha" do grÃ¡fico
                            hoverBackgroundColor: "rgb(115, 59, 48)",
                            fontWeight: "bold"
                        }
                    ]
                },
                options: {
                    maintainAspectRatio: false
                    /* maintainAspectRatio (manter relaÃ§Ã£o de aspecto) 
                      caso true: ele "obdece" a altura e largura que colocamos
                      caso false: ele nÃ£o "obdece" a altura e largura que colocamos e se ajusta ao componente pai
                    */
                }
            }

            var mais_visitados = new Chart(document.getElementById ("visitados"), visitados);
            /* aqui obrigatoriamente tem que colocar new Chart() para criar um novo chart 
            e passar dentro dos (parÃªnteses) o elemento canvas que vocÃª quer mandar e 
            separado pela virgula o que vocÃª quer mandar, no nosso caso a config que fizemos 
            */





        })
    }).catch(function (erro) {
        console.log(erro);
    })
  </script>  